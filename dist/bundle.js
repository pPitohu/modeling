(()=>{"use strict";var e,t,n,o,a,c,r,l,u;(function(){var e,t,n,o,a=document.getElementById("timer-hours"),c=document.getElementById("timer-minutes"),r=document.getElementById("timer-seconds"),l=new Date;t=l.getDate()+1,n=l.getMonth()+1,o=l.getFullYear(),e="".concat(n,".").concat(t,".").concat(o);var u,i=function(){var t,n=(t=(new Date(e).getTime()-(new Date).getTime())/1e3,{seconds:Math.floor(t%60),minutes:Math.floor(t/60%60),hours:Math.floor(t/3600),timeRemaining:t});if(n.timeRemaining<=0)return a.textContent="00",c.textContent="00",r.textContent="00",!1;if(n.timeRemaining>0){for(var o in n)n[o]<10&&(n[o]="0"+n[o]);a.textContent=n.hours,c.textContent=n.minutes,r.textContent=n.seconds}};!1!==i()?u=setInterval(i,1e3):clearInterval(u)})(),function(){var e=document.querySelector(".menu"),t=document.querySelector("menu");function n(){t.classList.toggle("active-menu")}e.addEventListener("click",n),t.addEventListener("click",(function(e){var t=e.target;(t.classList.contains("close-btn")||(t=t.closest("ul>li>a")))&&n()}))}(),function(){var e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),n=e.querySelector(".popup-content"),o=0;function a(){var e=requestAnimationFrame(a);++o<50?n.style.top=o+200+"px":(o=0,cancelAnimationFrame(e))}t.forEach((function(t){t.addEventListener("click",(function(){e.style.display="block",document.documentElement.clientWidth>768&&a()}))})),e.addEventListener("click",(function(t){var n=t.target;n.classList.contains("popup-close")?e.style.display="none":(n=n.closest(".popup-content"))||(e.style.display="none")}))}(),r=document.querySelector(".service-header"),l=r.querySelectorAll(".service-header-tab"),(u=document.querySelectorAll(".service-tab"))[1].classList.add("d-none"),u[2].classList.add("d-none"),r.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&l.forEach((function(e,n){e===t&&function(e){for(var t=0;t<l.length;t++)e===t?(l[t].classList.add("active"),u[t].classList.remove("d-none")):(u[t].classList.add("d-none"),l[t].classList.remove("active"))}(n)}))})),function(){var e,t=document.querySelectorAll(".portfolio-item"),n=document.querySelector(".portfolio-dots"),o=document.querySelector(".portfolio-content"),a=0;function c(e,t,n){e[t].classList.remove(n)}function r(e,t,n){e[t].classList.add(n)}var l=function(e){var t=document.createElement("li");t.classList.add("dot"),t.classList.add("dot-active"),n.append(t);for(var o=1;o<e;o++)(t=document.createElement("li")).classList.add("dot"),n.append(t);return document.querySelectorAll(".dot")}(t.length);function u(){c(t,a,"portfolio-item-active"),c(l,a,"dot-active"),++a>=t.length&&(a=0),r(t,a,"portfolio-item-active"),r(l,a,"dot-active")}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(u,t)}o.addEventListener("click",(function(e){e.preventDefault();var n=e.target;n.matches(".portfolio-btn, .dot")&&(c(t,a,"portfolio-item-active"),c(l,a,"dot-active"),n.matches("#arrow-right")?a++:n.matches("#arrow-left")?a--:n.matches(".dot")&&l.forEach((function(e,t){e===n&&(a=t)})),a>=t.length&&(a=0),a<0&&(a=t.length-1),r(t,a,"portfolio-item-active"),r(l,a,"dot-active"))})),o.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),o.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&i(2e3)})),i(2e3)}(),document.querySelectorAll(".command__photo").forEach((function(e){var t=e.src;e.addEventListener("mouseenter",(function(){"IMG"===e.tagName&&(e.src=e.dataset.img)})),e.addEventListener("mouseleave",(function(){e.src=t}))})),e=document.querySelector(".calc-block"),t=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),o=document.querySelector(".calc-day"),a=document.querySelector(".calc-count"),c=document.getElementById("total"),e.querySelectorAll("input").forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/\D/,"")}))})),e.addEventListener("change",(function(e){var r,l,u,i,d,s=e.target;(s.matches("select")||s.matches("input"))&&(r=0,l=1,u=1,i=t.options[t.selectedIndex].value,d=+n.value,a.value>1&&(l+=(a.value-1)/10),o.value&&o.value<5?u*=2:o.value&&o.value<10&&(u*=1.5),i&&d&&(r=100*i*d*l*u),c.textContent=parseInt(r))})),function(){var e=document.querySelectorAll('input[placeholder="Ваше имя"]'),t=document.querySelectorAll('input[placeholder="Ваше сообщение"]'),n=document.querySelectorAll('input[placeholder="E-mail"]'),o=document.querySelectorAll('input[placeholder="Номер телефона"]');function a(e){e.target.matches('input[placeholder="Ваше имя"]')&&(e.target.value=e.target.value[0].toUpperCase()+e.target.value.substr(1).toLowerCase()),e.target.value=e.target.value.replace(/-+/gi,"-").trim(),e.target.value=e.target.value.replace(/\s+/gi," ").trim()}e.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^А-яа-яЁё-\s]/gi,"")})),e.addEventListener("focusout",a)})),t.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^А-Яа-я\- ]/g,"")})),e.addEventListener("focusout",a)})),n.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^A-Za-z\-@_'`!\.\*]/g,"")})),e.addEventListener("focusout",a)})),o.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^0-9\+]/g,"")})),e.addEventListener("focusout",a)}));var c=document.getElementById("form1"),r=document.getElementById("form2"),l=document.getElementById("form3"),u=document.createElement("div");function i(e,t){e.preventDefault(),t.appendChild(u),u.textContent="Загрузка";var n=new FormData(t),o={};n.forEach((function(e,t){o[t]=e})),document.querySelectorAll("input").forEach((function(e){e.value=""}));var a=document.querySelector(".popup");(function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})(o).then((function(e){if(200!==e.status)throw new Error("status network not 200.");u.textContent="Спасибо! Мы скоро с вами свяжемся",setTimeout((function(){u.textContent="",a.style.display="none"}),5e3)})).catch((function(e){u.textContent="Что то пошло не так...",console.error(e)}))}u.style.cssText="\n        font-size: 2rem;\n        color: red;\n    ",c.addEventListener("submit",(function(e){e.preventDefault(),c.appendChild(u);var t=c.querySelectorAll("input");t[0].value.length<2||t[1].value.length<3||t[2].value.length>12||t[2].value.length<8?u.textContent="Введите корректные данные!!!":i(e,c)})),r.addEventListener("submit",(function(e){e.preventDefault(),r.appendChild(u);var t=r.querySelectorAll("input");t[0].value.length<2||t[1].value.length<3||t[2].value.length<8||t[2].value.length>12||t[3].value.length<10?u.textContent="Введите корректные данные!!!":i(e,r)})),l.addEventListener("submit",(function(e){e.preventDefault(),l.appendChild(u);var t=l.querySelectorAll("input");t[0].value.length<2||t[1].value.length<8||t[1].value.length>12||t[2].value.length<3?u.textContent="Введите корректные данные!!!":i(e,l)}))}()})();